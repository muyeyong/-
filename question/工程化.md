## 常用的loader 和 plugin

css-loader

less-loader

sass-loader

babel-loader

ts-loader

file-loader



html-webpack-plugin

## webpack loader 与 plugin区别

loader是用来处理文件解析的，plugin可以监听webapck整个打包的过程，可以实现loader不能实现的功能，比如说压缩代码、分割代码

## 怎样实现一个loader 和 plugin

~~loader需要提供一个apply方法~~,loader就是一个js函数，loader的执行顺序是从右往左，接收文件，处理，然后返回

plugin 传入compiler，通过监听compiler实现，需要传出什么？？

plugin怎么实现监听整个打包过程？

​	compiler 和 compilelation 都是基于tapable实现的，发布订阅，异步使用 同步使用

同步钩子通过tab注册，通过call触发；异步钩子通过tap tapAsync tapPromise注册，通过call callAsync promise触发

## 热更新怎么实现的

​	HMR 和 WDS配和使用： WDS提供链接访问资源的方法，HMR 实现了热更新的功能，检测到文件变化，就可以更新

​    HMR server 服务端监听变化，通过ws将变化传给客服端(浏览器) HRM Runtime

## tree shaking 怎么实现

先标记 在删除

- `ES6`的模块引入是静态分析的，所以在编译时能正确判断到底加载了哪些模块
- 分析程序流，判断哪些变量未被使用、引用，进而删除此代码

 	不可到达的代码

​	 只读不写的变量

​    代码结果不会被用到

## webapck优化

分析原因：

​	体积分析： speed-measure-webapck-plugin

​	速度分析：webpack-bundle-analyzer

加快打包速度: 启用多进程打包 thread-loader  

预编译：提前将图片进行处理

利用二次缓存：例如：  terser-webpack-plugin 设置使用缓存